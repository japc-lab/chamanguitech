<!-- Company Sale Process Summary Table -->
<div class="card card-xl-stretch mb-xl-8">
  <div class="card-header border-0 pt-5">
    <h4 class="card-title align-items-start flex-column">
      <span class="card-label fw-bolder fs-3 mb-1" translate="SALES.COMPANY_SALE.SUMMARY.TITLE"></span>
    </h4>
  </div>
  <div class="card-body py-3">
    <form #processSummaryForm="ngForm">
      <div class="table-responsive">
        <table class="table table-bordered table-hover">
        <tbody>
          <!-- Header Row -->
          <tr>
            <td colspan="2" class="fw-semibold orange-color text-center" translate="SALES.COMPANY_SALE.SUMMARY.WHOLE_SHRIMP"></td>
            <td colspan="2" class="fw-semibold blue-color text-center" translate="SALES.COMPANY_SALE.SUMMARY.TAIL_SHRIMP"></td>
          </tr>

          <!-- Process Data Rows -->
          <tr>
            <td class="fw-semibold orange-color" translate="SALES.COMPANY_SALE.SUMMARY.FIELDS.POUNDS_BOUGHT"></td>
            <td class="text-center orange-color">{{ poundsBought | number: '1.2-2' }}</td>
            <td class="fw-semibold blue-color" translate="SALES.COMPANY_SALE.SUMMARY.FIELDS.TAIL_POUNDS_CALCULATED"></td>
            <td class="text-center blue-color">{{ tailReceivedPoundsReported | number: '1.2-2' }}</td>
          </tr>

          <tr>
            <td class="fw-semibold orange-color" translate="SALES.COMPANY_SALE.SUMMARY.FIELDS.POUNDS_RECEIVED"></td>
            <td class="orange-color">
              <input type="number" [(ngModel)]="poundsReceivedInput" name="poundsReceivedInput"
                class="form-control form-control-sm"
                (ngModelChange)="calculateSummary()"
                (keypress)="validateNumber($event)"
                (blur)="formatDecimal('poundsReceivedInput')" />
            </td>
            <td class="fw-semibold blue-color" translate="SALES.COMPANY_SALE.SUMMARY.FIELDS.TAIL_POUNDS_PROCESSED"></td>
            <td class="text-center blue-color">{{ tailTotalPoundsProcessed | number: '1.2-2' }}</td>
          </tr>

          <tr>
            <td class="fw-semibold orange-color" translate="SALES.COMPANY_SALE.SUMMARY.FIELDS.DIFFERENCE"></td>
            <td class="text-center orange-color">{{ difference | number: '1.2-2' }}</td>
            <td class="fw-semibold blue-color" translate="SALES.COMPANY_SALE.SUMMARY.FIELDS.TAIL_PERFORMANCE_PERCENTAGE"></td>
            <td class="text-center blue-color">{{ tailPerformancePercentage | number: '1.2-2' }}%</td>
          </tr>

          <tr>
            <td class="fw-semibold orange-color" translate="SALES.COMPANY_SALE.SUMMARY.FIELDS.TRASH_POUNDS"></td>
            <td class="text-center orange-color">{{ trashPounds | number: '1.2-2' }}</td>
            <td class="fw-semibold blue-color" translate="SALES.COMPANY_SALE.SUMMARY.FIELDS.TAIL_POUNDS_WHOLE_TO_TAIL"></td>
            <td class="text-center blue-color">{{ tailReceivedPoundsReported | number: '1.2-2' }}</td>
          </tr>

          <tr>
            <td class="fw-semibold orange-color" translate="SALES.COMPANY_SALE.SUMMARY.FIELDS.POUNDS_FOR_WHOLE_PROCESS"></td>
            <td class="text-center orange-color">{{ poundsForWholeProcess | number: '1.2-2' }}</td>
            <td colspan="2" class="blue-color"></td>
          </tr>

          <tr>
            <td class="fw-semibold orange-color" translate="SALES.COMPANY_SALE.SUMMARY.FIELDS.PERFORMANCE_PERCENTAGE"></td>
            <td class="orange-color">
              <input type="number" [(ngModel)]="performancePercentageInput" name="performancePercentageInput"
                class="form-control form-control-sm"
                (ngModelChange)="calculateSummary()"
                (keypress)="validateNumber($event)"
                (blur)="formatDecimal('performancePercentageInput')" />
            </td>
            <td colspan="2" class="blue-color"></td>
          </tr>

          <!-- Financial Summary Section -->
          <tr class="table-light">
            <td colspan="4" class="text-center fw-bold fs-5" translate="SALES.COMPANY_SALE.SUMMARY.FINANCIAL_SUMMARY"></td>
          </tr>

          <!-- Subtotals -->
          <tr>
            <td class="fw-semibold orange-color" translate="SALES.COMPANY_SALE.SUMMARY.FIELDS.WHOLE_SUBTOTAL"></td>
            <td class="text-end orange-color">${{ wholeSubtotal | number: '1.2-2' }}</td>
            <td class="fw-semibold blue-color" translate="SALES.COMPANY_SALE.SUMMARY.FIELDS.AVERAGE_PURCHASE_PRICE"></td>
            <td class="text-end blue-color">${{ averagePurchasePrice | number: '1.2-2' }}</td>
          </tr>

          <tr>
            <td class="fw-semibold orange-color" translate="SALES.COMPANY_SALE.SUMMARY.FIELDS.TAIL_SUBTOTAL"></td>
            <td class="text-end orange-color">${{ tailSubtotal | number: '1.2-2' }}</td>
            <td class="fw-semibold blue-color" translate="SALES.COMPANY_SALE.SUMMARY.FIELDS.AVERAGE_PACKING_PRICE"></td>
            <td class="text-end blue-color">${{ averagePackingPrice | number: '1.2-2' }}</td>
          </tr>

          <tr>
            <td class="fw-semibold orange-color" translate="SALES.COMPANY_SALE.SUMMARY.FIELDS.GRAND_TOTAL"></td>
            <td class="text-end orange-color">${{ grandTotal | number: '1.2-2' }}</td>
            <td class="fw-semibold blue-color" translate="SALES.COMPANY_SALE.SUMMARY.FIELDS.RETENTION_PERCENTAGE"></td>
            <td class="blue-color">
              <input type="number" [(ngModel)]="retentionPercentage" name="retentionPercentage"
                class="form-control form-control-sm"
                (ngModelChange)="calculateSummary()"
                (keypress)="validateNumber($event)"
                (blur)="formatDecimal('retentionPercentage')" />
            </td>
          </tr>

          <tr>
            <td class="fw-semibold orange-color" translate="SALES.COMPANY_SALE.SUMMARY.FIELDS.RETENTION_AMOUNT"></td>
            <td class="text-end orange-color">${{ retentionAmount | number: '1.2-2' }}</td>
            <td class="fw-semibold blue-color" translate="SALES.COMPANY_SALE.SUMMARY.FIELDS.ADDITIONAL_PENALTY"></td>
            <td class="blue-color">
              <input type="number" [(ngModel)]="additionalPenalty" name="additionalPenalty"
                class="form-control form-control-sm"
                (ngModelChange)="calculateSummary()"
                (keypress)="validateNumber($event)"
                (blur)="formatDecimal('additionalPenalty')" />
            </td>
          </tr>

          <!-- Net Amount Row -->
          <tr class="table-primary">
            <td class="fw-bold fs-5" translate="SALES.COMPANY_SALE.SUMMARY.FIELDS.NET_AMOUNT_TO_RECEIVE"></td>
            <td colspan="3" class="text-center fw-bold fs-5 text-success">
              ${{ netAmountToReceive | number: '1.2-2' }}
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    </form>
  </div>
</div>
